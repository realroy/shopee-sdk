import{z}from"zod";export const callbackRequestQuerySchema=z.object({code:z.string(),shop_id:z.string(),sign:z.string()});export async function verifyCallback(requestQuery){const parseCallbackRequestQuerySchema=await callbackRequestQuerySchema.safeParseAsync(requestQuery);if(!parseCallbackRequestQuerySchema.success){throw new Error(`parse request parameters error: ${parseCallbackRequestQuerySchema.error.message}`)}const{code,shop_id:shopId,sign}=parseCallbackRequestQuerySchema.data;return{code,shopId,sign}}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy92Mi1zaG9wLXZlcmlmeS1jYWxsYmFjay50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiO1xuXG5leHBvcnQgY29uc3QgY2FsbGJhY2tSZXF1ZXN0UXVlcnlTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGNvZGU6IHouc3RyaW5nKCksXG4gIHNob3BfaWQ6IHouc3RyaW5nKCksXG4gIHNpZ246IHouc3RyaW5nKCksXG59KTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZlcmlmeUNhbGxiYWNrKHJlcXVlc3RRdWVyeTogdW5rbm93bikge1xuICBjb25zdCBwYXJzZUNhbGxiYWNrUmVxdWVzdFF1ZXJ5U2NoZW1hID1cbiAgICBhd2FpdCBjYWxsYmFja1JlcXVlc3RRdWVyeVNjaGVtYS5zYWZlUGFyc2VBc3luYyhyZXF1ZXN0UXVlcnkpO1xuXG4gIGlmICghcGFyc2VDYWxsYmFja1JlcXVlc3RRdWVyeVNjaGVtYS5zdWNjZXNzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYHBhcnNlIHJlcXVlc3QgcGFyYW1ldGVycyBlcnJvcjogJHtwYXJzZUNhbGxiYWNrUmVxdWVzdFF1ZXJ5U2NoZW1hLmVycm9yLm1lc3NhZ2V9YFxuICAgICk7XG4gIH1cblxuICBjb25zdCB7IGNvZGUsIHNob3BfaWQ6IHNob3BJZCwgc2lnbiB9ID0gcGFyc2VDYWxsYmFja1JlcXVlc3RRdWVyeVNjaGVtYS5kYXRhO1xuXG4gIHJldHVybiB7XG4gICAgY29kZSxcbiAgICBzaG9wSWQsXG4gICAgc2lnbixcbiAgfTtcbn1cbiJdLCJuYW1lcyI6WyJ6IiwiY2FsbGJhY2tSZXF1ZXN0UXVlcnlTY2hlbWEiLCJvYmplY3QiLCJjb2RlIiwic3RyaW5nIiwic2hvcF9pZCIsInNpZ24iLCJ2ZXJpZnlDYWxsYmFjayIsInJlcXVlc3RRdWVyeSIsInBhcnNlQ2FsbGJhY2tSZXF1ZXN0UXVlcnlTY2hlbWEiLCJzYWZlUGFyc2VBc3luYyIsInN1Y2Nlc3MiLCJFcnJvciIsImVycm9yIiwibWVzc2FnZSIsInNob3BJZCIsImRhdGEiXSwibWFwcGluZ3MiOiJBQUFBLE9BQVNBLENBQUMsS0FBUSxLQUFNLEFBRXhCLFFBQU8sTUFBTUMsMkJBQTZCRCxFQUFFRSxNQUFNLENBQUMsQ0FDakRDLEtBQU1ILEVBQUVJLE1BQU0sR0FDZEMsUUFBU0wsRUFBRUksTUFBTSxHQUNqQkUsS0FBTU4sRUFBRUksTUFBTSxFQUNoQixFQUFHLEFBRUgsUUFBTyxlQUFlRyxlQUFlQyxZQUFxQixFQUN4RCxNQUFNQyxnQ0FDSixNQUFNUiwyQkFBMkJTLGNBQWMsQ0FBQ0YsY0FFbEQsR0FBSSxDQUFDQyxnQ0FBZ0NFLE9BQU8sQ0FBRSxDQUM1QyxNQUFNLElBQUlDLE1BQ1IsQ0FBQyxnQ0FBZ0MsRUFBRUgsZ0NBQWdDSSxLQUFLLENBQUNDLE9BQU8sQ0FBQyxDQUFDLENBRXRGLENBRUEsS0FBTSxDQUFFWCxJQUFJLENBQUVFLFFBQVNVLE1BQU0sQ0FBRVQsSUFBSSxDQUFFLENBQUdHLGdDQUFnQ08sSUFBSSxDQUU1RSxNQUFPLENBQ0xiLEtBQ0FZLE9BQ0FULElBQ0YsQ0FDRiJ9
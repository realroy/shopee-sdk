import{describe,it,expect}from"vitest";import{z}from"zod";import{ShopeeContext,buildQuery}from"../libs";import{AxiosError}from"axios";describe("signURL",()=>{const context=ShopeeContext.getInstance();context.baseURL="https://foo.bar";it("should be ok when receive date",async()=>{try{await buildQuery({...context.value,path:"/foo",requestParameterSchema:z.object({date:z.date()}),responseSchema:z.object({})})({date:new Date("01/01/2021")})}catch(error){if(!(error instanceof AxiosError)){throw error}const axiosError=error;const url=axiosError.config?.url;expect(url).toContain("date=1609434000")}})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9saWJzL2J1aWxkLXF1ZXJ5LnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVzY3JpYmUsIGl0LCBleHBlY3QgfSBmcm9tIFwidml0ZXN0XCI7XG5pbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiO1xuXG5pbXBvcnQgeyBTaG9wZWVDb250ZXh0LCBidWlsZFF1ZXJ5IH0gZnJvbSBcIi4uL2xpYnNcIjtcbmltcG9ydCB7IEF4aW9zRXJyb3IgfSBmcm9tIFwiYXhpb3NcIjtcblxuZGVzY3JpYmUoXCJzaWduVVJMXCIsICgpID0+IHtcbiAgY29uc3QgY29udGV4dCA9IFNob3BlZUNvbnRleHQuZ2V0SW5zdGFuY2UoKTtcbiAgY29udGV4dC5iYXNlVVJMID0gXCJodHRwczovL2Zvby5iYXJcIjtcblxuICBpdChcInNob3VsZCBiZSBvayB3aGVuIHJlY2VpdmUgZGF0ZVwiLCBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGJ1aWxkUXVlcnkoe1xuICAgICAgICAuLi5jb250ZXh0LnZhbHVlLFxuICAgICAgICBwYXRoOiBcIi9mb29cIixcbiAgICAgICAgcmVxdWVzdFBhcmFtZXRlclNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgIGRhdGU6IHouZGF0ZSgpLFxuICAgICAgICB9KSxcbiAgICAgICAgcmVzcG9uc2VTY2hlbWE6IHoub2JqZWN0KHt9KSxcbiAgICAgIH0pKHtcbiAgICAgICAgZGF0ZTogbmV3IERhdGUoXCIwMS8wMS8yMDIxXCIpLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmICghKGVycm9yIGluc3RhbmNlb2YgQXhpb3NFcnJvcikpIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGF4aW9zRXJyb3IgPSBlcnJvciBhcyBBeGlvc0Vycm9yO1xuXG4gICAgICBjb25zdCB1cmwgPSBheGlvc0Vycm9yLmNvbmZpZz8udXJsO1xuICAgICAgZXhwZWN0KHVybCkudG9Db250YWluKFwiZGF0ZT0xNjA5NDM0MDAwXCIpO1xuICAgIH1cbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJkZXNjcmliZSIsIml0IiwiZXhwZWN0IiwieiIsIlNob3BlZUNvbnRleHQiLCJidWlsZFF1ZXJ5IiwiQXhpb3NFcnJvciIsImNvbnRleHQiLCJnZXRJbnN0YW5jZSIsImJhc2VVUkwiLCJ2YWx1ZSIsInBhdGgiLCJyZXF1ZXN0UGFyYW1ldGVyU2NoZW1hIiwib2JqZWN0IiwiZGF0ZSIsInJlc3BvbnNlU2NoZW1hIiwiRGF0ZSIsImVycm9yIiwiYXhpb3NFcnJvciIsInVybCIsImNvbmZpZyIsInRvQ29udGFpbiJdLCJtYXBwaW5ncyI6IkFBQUEsT0FBU0EsUUFBUSxDQUFFQyxFQUFFLENBQUVDLE1BQU0sS0FBUSxRQUFTLEFBQzlDLFFBQVNDLENBQUMsS0FBUSxLQUFNLEFBRXhCLFFBQVNDLGFBQWEsQ0FBRUMsVUFBVSxLQUFRLFNBQVUsQUFDcEQsUUFBU0MsVUFBVSxLQUFRLE9BQVEsQ0FFbkNOLFNBQVMsVUFBVyxLQUNsQixNQUFNTyxRQUFVSCxjQUFjSSxXQUFXLEVBQ3pDRCxDQUFBQSxRQUFRRSxPQUFPLENBQUcsa0JBRWxCUixHQUFHLGlDQUFrQyxVQUNuQyxHQUFJLENBQ0YsTUFBTUksV0FBVyxDQUNmLEdBQUdFLFFBQVFHLEtBQUssQ0FDaEJDLEtBQU0sT0FDTkMsdUJBQXdCVCxFQUFFVSxNQUFNLENBQUMsQ0FDL0JDLEtBQU1YLEVBQUVXLElBQUksRUFDZCxHQUNBQyxlQUFnQlosRUFBRVUsTUFBTSxDQUFDLENBQUMsRUFDNUIsR0FBRyxDQUNEQyxLQUFNLElBQUlFLEtBQUssYUFDakIsRUFDRixDQUFFLE1BQU9DLE1BQU8sQ0FDZCxHQUFJLENBQUVBLENBQUFBLGlCQUFpQlgsVUFBUyxFQUFJLENBQ2xDLE1BQU1XLEtBQ1IsQ0FFQSxNQUFNQyxXQUFhRCxNQUVuQixNQUFNRSxJQUFNRCxXQUFXRSxNQUFNLEVBQUVELElBQy9CakIsT0FBT2lCLEtBQUtFLFNBQVMsQ0FBQyxrQkFDeEIsQ0FDRixFQUNGIn0=